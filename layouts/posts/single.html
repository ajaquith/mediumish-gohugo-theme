{{ define "header"}}
    {{- partial "_shared/navbar.html" . -}}
{{ end }}

{{ define "main" }}
    {{- partial "_shared/title.html" . -}}
    <div class="main-content">
        <!-- Begin Article
        ================================================== -->
        <div class="container">
            <div class="row">
                <!-- Post Share -->
                <div class="col-md-2 pl-0">      
                    {{- partial "single-partials/share.html" . -}}
                </div>
                <!-- Post -->                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        <!-- Post Title -->
                        <h1 class="posttitle">{{ .Title }}</h1> 
                        <!-- Post Description -->
                        <h2 class="article-post post-top-meta">{{ .Description }}</h2>
                        <!-- Author Box -->
                        {{- partial "_shared/postmeta.html" . -}}
                        <div class="row post-top-meta">
                            <div class="pl-3 pr-3">
                                <img class="author-thumb" src='{{ .Scratch.Get "authorThumb" }}' alt='{{ .Scratch.Get "authorName" }}'/>
                            </div>
                            <div class="author-description">
                                <span class="text-muted">
                                    <a href='/authors/index.html#{{ .Scratch.Get "author" }}' class="link-dark text-dark">{{ .Scratch.Get "authorName" }}</a>
                                    &#8729;
                                    {{ .Scratch.Get "authorDescription" }}
                                    <br/>
                                    <i class="far fa-clock clock"></i>
                                    {{ .ReadingTime }} min read
                                    &#8729;
                                    {{ dateFormat (default "Jan 2, 2006" .Site.Params.dateFormat) .PublishDate }}
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Post Featured Image -->
                    {{$images := .Resources.ByType "image"}}
                    {{with $images.GetMatch "*cover*" }}
                        <img class="featured-image img-fluid" src="{{ .Permalink }}" alt="thumbnail for this post">
                    {{end}}
                    <!-- End Featured Image -->

                    <!-- Post Content -->
                    <div class="article-post end-cap">
                        {{ $content := .Content }}
                        {{ $content | replaceRE `(?s)</p>\s*$` "&nbsp;<span class=\"end-cap\">&nbsp;</span></p>" | safeHTML }}
                    </div>
                    
                    <!-- Post Categories -->
                    <div class="after-post-tags">
                        <ul class="tags">
                        {{ range .Params.tags }}
                        <li>
                        <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}">{{.}}</a>
                        </li>
                        {{ end }}
                        </ul>
                    </div>
                    <!-- End Categories -->
                    
                    <!-- Next and PrevPage inside current section -->
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    {{with .NextInSection}}
                        <a class="d-block col-md-6" href="{{.Permalink}}"> &laquo; {{.Title}}</a>
                    {{end}}
                    {{with .PrevInSection}}
                        <a class="d-block col-md-6 text-lg-right" href="{{.Permalink}}">{{.Title}} &raquo;</a>
                    {{end}}
                    <div class="clearfix"></div>
                    </div>
                    <!-- End Next and PrevPage -->
                </div>
                <!-- End Post -->
            </div>
        </div>
        <!-- End Article
        ================================================== -->
        {{ if .Params.comments }}
            {{- partial "single-partials/comments.html" . -}}
        {{ end }}
    </div>
    {{- partial "_shared/alertbar.html" . -}}
{{ end }}

{{ define "footer"}}
    {{- partial "_shared/jumbotron.html" . -}}
    {{- partial "_shared/footer.html" . -}}
{{ end }}
